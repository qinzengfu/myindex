<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>个人主页</title>
	<style type="text/css">
	body{padding: 0;margin: 0;width:100%;background: red;}
		video{width:100%;height:650px;}
		.wrap{height:5px;width:100%;background: black;margin-bottom: 20px;}
		.box{height:5px;width:0;background: #fff;}
		nav{margin:0 auto;height:5x;display:flex;justify-content: center}
		a{display:inline-block;height:100%;border-radius: 2.5px;background: #fff;}
		li{list-style: none;width:5px;height:5px;background: #000;border-radius: 2.5px;margin-right: 5px;}
	</style>
</head>
<body>

	<video src="movies/a.mp4" controls autoplay="true" id="video">
您的浏览器不支持 video 标签。
	</video>
	<div class="wrap">
		<div class="box"></div>
	</div>
	<nav>
		<li><a href="javascript:void(0);"></a></li>
		<li><a href="javascript:void(0);"></a></li>
		<li><a href="javascript:void(0);"></a></li>
		<li><a href="javascript:void(0);"></a></li>
		<li><a href="javascript:void(0);"></a></li>
		<li style="margin-right: 0;"><a href="javascript:void(0);"></a></li>
	</nav>
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
	var video=document.getElementById('video');
	video.currentTime = 0;
	var tol,parent,i=0;



	var arrtime=[0,0,0,0,0,0];
	video.addEventListener("loadedmetadata", function(){
	    tol = video.duration;//获取总时长
	    video.startTime=0;
	});
	$("li").eq(i).animate({width:150+'px'},500);

	var arr=["a.mp4","b.mkv","c.mkv","d.mkv","e.mkv","f.mkv"];



	setInterval(function(){
		var currtime=video.currentTime;
		parent=(currtime/tol)*100;
		
		
		
		 $(".box").css({width:parent+"%"})
		 $("li").eq(i).children().css({width:parent+"%"})
		if(video.currentTime===tol){
			i+=1;
			if(i>arr.length-1){
				i=0;
			}
			$("li").eq(i).animate({width:150+'px'},500);
			$("li").eq(i).siblings().animate({width:5+"px"},100);
			$("li").eq(i).siblings().children().css({width:0},100);
			video.src="movies/"+arr[i];
			video.addEventListener("loadedmetadata", function(){
			    tol = video.duration;//获取总时长
			    video.startTime=0;
			    
			});
		}
		
	},1000);
</script>
</body>
</html>